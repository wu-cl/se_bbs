  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::TopicTest: test_.set_last_active_mark
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-1@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-1@mail.com', '$2a$04$TD900Z.vOn3.OAJ2lt1RCelXv3XXu7YIsOjNdzl4F5Liv18PLUPau', '2018-12-13 13:46:30', '2018-12-13 13:46:30')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name1', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (1, 1, 'title1', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-2@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-2@mail.com', '$2a$04$o4pKC5hHsemRAZCUh2dZguewUg03pyCWwrXSJa8/FbJ/tbYEYbbAO', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name2' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name2', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (2, 2, 'title2', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 2[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::TopicTest: test_soft_delete
-------------------------------------
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-3@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-3@mail.com', '$2a$04$Fb3tLmPPyxoscxsRlyofLuGHSBmtve6Zpjzy8.PGyBl8WCo3siLsq', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name3' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name3', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (3, 3, 'title3', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_topics` SET `homeland_topics`.`deleted_at` = '2018-12-13 13:46:31', `homeland_topics`.`updated_at` = '2018-12-13 13:46:31' WHERE `homeland_topics`.`id` = 3[0m
  [1m[36mHomeland::Topic Load (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 3 LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 3 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
Homeland::TopicTest: test_.activity_at
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-4@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-4@mail.com', '$2a$04$CbhPoos4uLuan57cv9w1fOu0sIbV/WPCkee1yeWQJQoFxaisuGX5O', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name4' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name4', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
Homeland::TopicTest: test_.markdown_on_save
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-5@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-5@mail.com', '$2a$04$AjPd84fP0tyalbol6vA0F.X.pC/uzgT6aOLlNPrEWll3WpoqdkIw6', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name5' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name5', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (5, 5, 'title5', 'Hello *world*', '<p>Hello <em>world</em></p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Homeland::ReplyTest: test_.per_page
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Homeland::ReplyTest: test_.recent
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Homeland::ReplyTest: test_.update_topic_last_reply_at
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-6@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-6@mail.com', '$2a$04$Y6ayaNWzZH2atqCvjfCUd.e.QMdn84HKtXkFpGverc/iu3ar.XyoC', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name6' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name6', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (6, 6, 'title6', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 5, 'body', '<p>body</p>\n', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 5[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:31', `replies_count` = 1 WHERE `homeland_topics`.`id` = 5[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 5[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 5[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::ReplyTest: test_soft_delete
-------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-7@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-7@mail.com', '$2a$04$cw6ffGdk475J3iKSEjZaUOrKM0eYi680vskBoRAMs9LWOycS3Gu2u', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name7', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (7, 7, 'title7', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 6, 'Hello *world*', '<p>Hello <em>world</em></p>\n', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 6[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:31', `replies_count` = 1 WHERE `homeland_topics`.`id` = 6[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_replies` SET `homeland_replies`.`deleted_at` = '2018-12-13 13:46:31', `homeland_replies`.`updated_at` = '2018-12-13 13:46:31' WHERE `homeland_replies`.`id` = 2[0m
  [1m[36mHomeland::Reply Load (0.0ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 2 LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.0ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 2 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
Homeland::ReplyTest: test_.markdown_on_save
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-8@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-8@mail.com', '$2a$04$IGIHkAgz2h94MBRxSsXjMOb/thZCFtjmLMlAuh8U2NMh1XG7kmT1G', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name8' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name8', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (8, 8, 'title8', 'body', '<p>body</p>\n', 1544708791, '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 8[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 7, 'Hello *world*', '<p>Hello <em>world</em></p>\n', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 7[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:31', `replies_count` = 1 WHERE `homeland_topics`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
Homeland::MarkupTest: test_Base_markup
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
Homeland::MarkupTest: test_Extend_a_new_markup
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
Homeland::MarkupTest: test_.render_with_:markdown
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::MarkupTest: test_.render_with_:simple
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Homeland::MarkupTest: test_.render_with_:html
---------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------
HomelandTest: test_VERSION
--------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------
HomelandTest: test_.config
--------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_admin?
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_name
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_avatar_url
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_DELETE_/homeland/nodes/:id_with_admin
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$b/ebCyB0LOvWTuIjLjWT6uItJEvE/Ea4BrRCx9UxNYP6pTzUAqMGa', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name9' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name9', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name10' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name10', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:31', `last_sign_in_at` = '2018-12-13 13:46:31', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 9[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
Started DELETE "/homeland/nodes/10" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Homeland::NodesController#destroy as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 9 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 10[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/nodes
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_POST_/homeland/nodes_without_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$HlgYzzXe9UV92rX8DMo/f.M10aJyPzE3LJgkrajfZ3RNQNIZ9theq', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name11' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name11', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-12@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-12@mail.com', '$2a$04$iby6wjgnXGMsIvZRfWPgfeq9nmLwm2uWNqGmTW3z2N7iq7MWsSebG', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-12%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-12@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-12@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:31', `last_sign_in_at` = '2018-12-13 13:46:31', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started POST "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Homeland::NodesController#create as HTML
  Parameters: {"node"=>{"name"=>""}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_PUT_/homeland/nodes/:id_without_admin
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$x1gkc4hvQoydIXInjAnRsuw.msK3.fDQ7ZSeawbMSCPRKB5xHauaa', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name12' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name12', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-13@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-13@mail.com', '$2a$04$TNUWBQDrO7quSRmFST22ceWphICHf5KMLECSEJDA/EcU0fn.mSdqW', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-13%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-13@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-13@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:31', `last_sign_in_at` = '2018-12-13 13:46:31', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 13[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started PUT "/homeland/nodes/12" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Homeland::NodesController#update as HTML
  Parameters: {"node"=>{"name"=>""}, "id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 13 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
NodesTest: test_GET_/homeland/nodes_without_admin
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$WW037kzFz2zM/aVlK3RH8erJG7zsqZfiqvmrpzM99Jj4B.vhxnvD.', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name13' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name13', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name14' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name14', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name15' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name15', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name16' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name16', 'description', '2018-12-13 13:46:31', '2018-12-13 13:46:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:31 -0800
Processing by Homeland::NodesController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (1.0ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` ORDER BY sort desc[0m
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 13 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 14 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 15 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 16 ORDER BY id desc LIMIT 3[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_node.html.erb [4 times] (14.9ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application (22.4ms)
Completed 200 OK in 2609ms (Views: 2604.9ms | ActiveRecord: 2.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_GET_/homeland/nodes/new_without_admin
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$N7BXpu8LVovt5cvtJ5EwGuwruzhiC2dsLgzD72.nGSyh1gLnjqk3W', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name17' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name17', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-14@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-14@mail.com', '$2a$04$p48WBCDxosnXp5fVC7l.PuLWr7pKc8p5JfuiNBmj7IZzfrOeQwhOi', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-14%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-14@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-14@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/homeland/nodes/new" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
NodesTest: test_DELETE_/homeland/nodes/:id_without_admin
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$ULZ9I3A5yqL3xlHUuOfkievC83fSo/a.5aRZ0jRryc6wpuvBR0tHG', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name18' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name18', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name19' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name19', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-15@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-15@mail.com', '$2a$04$QRQhQEYy.JYS/hcixtMYaOxtFPrVFpE5AqC8yLkndPj1glRqLErMS', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-15%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-15@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-15@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 18[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started DELETE "/homeland/nodes/19" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#destroy as HTML
  Parameters: {"id"=>"19"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 18 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
NodesTest: test_POST_/homeland/nodes_with_admin
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$iOGoj8rl4nvaGGwanpRfb.ZdaFUonnvetH1/SogfDdufQWAdqMatK', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name20' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name20', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 19[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
Started POST "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#create as HTML
  Parameters: {"node"=>{"name"=>"New name by create", "description"=>"New description by create", "color"=>"#newcolor", "sort"=>"1620"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'New name by create' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `color`, `sort`, `created_at`, `updated_at`) VALUES ('New name by create', 'New description by create', '#newcolor', 1620, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/c/21
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` ORDER BY `homeland_nodes`.`id` DESC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
NodesTest: test_GET_/homeland/nodes/:id/edit_with_admin
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$NwdTcgjLW2XmuYt2qcSgVO3V4sMeXiBL/HywgeSF1zFzlPSR/k9cC', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name21' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name21', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
Started GET "/homeland/nodes/22/edit" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#edit as HTML
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 22 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/edit.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_form.html.erb (11.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/edit.html.erb within layouts/homeland/application (14.5ms)
Completed 200 OK in 25ms (Views: 19.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
NodesTest: test_GET_/homeland/nodes/:id/edit_without_admin
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$Lq0obXfuhrVEvAVzK96LIuCzt9JZs.c5UbteJZ2sxOwyjXk7hHr5S', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name22' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name22', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-16@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-16@mail.com', '$2a$04$.hX5O2QKWoTPFdLY0qF/9.V.IBChcMyCBrM0X1jBNiCp.X.zOUSW6', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-16%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-16@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-16@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 22[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/homeland/nodes/23/edit" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#edit as HTML
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 22 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_GET_/homeland/nodes/new_with_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$Ki/3rxLLfIDfbc87.3KN5enUPb12ukuJOiAd1HPjjKUwXJqk0j9xG', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name23' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name23', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 23[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/homeland/nodes/new" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/new.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_form.html.erb (4.4ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/new.html.erb within layouts/homeland/application (6.3ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
NodesTest: test_GET_/homeland/nodes_with_admin
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$mNYCtTKf2hM99tRTw4YphOnaPnk7i/dMOWPiwj.gIsgmpH28/sNbK', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name24' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name24', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name25' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name25', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name26' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name26', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name27' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name27', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 24 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.5ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` ORDER BY sort desc[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 25 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.9ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 26 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 27 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 28 ORDER BY id desc LIMIT 3[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_node.html.erb [4 times] (15.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application (20.9ms)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 3.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_PUT_/homeland/nodes/:id_with_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$BSJm6SkcWduVcECYbULrTuSl4MhhjDaoRCNTiy7HBlknVVc8CNS/O', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name28' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name28', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 25[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started PUT "/homeland/nodes/29" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::NodesController#update as HTML
  Parameters: {"node"=>{"name"=>"New name", "description"=>"New description", "color"=>"#newcolor", "sort"=>"1621"}, "id"=>"29"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 25 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'New name' AND (`homeland_nodes`.`id` != 29) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `name` = 'New name', `description` = 'New description', `color` = '#newcolor', `sort` = 1621 WHERE `homeland_nodes`.`id` = 29[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/c/29
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 29 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit_without_owner
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-17@mail.com' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-17@mail.com', '$2a$04$PIk9urQ3Z7ZXEbXjB.wUgObdOStlN6M3zBVrzbsef4CbupjBMS32K', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-18@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-18@mail.com', '$2a$04$Ba57.u3CXIupNGwWnDVMPu85.KvyXfCjewgfz9qz/WPs4soEOBWXu', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name29' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name29', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (30, 27, 'title9', 'body', '<p>body</p>\n', 1544708794, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (26, 8, 'body', '<p>body</p>\n', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 8[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 26, `replied_at` = '2018-12-13 13:46:34', `replies_count` = 1 WHERE `homeland_topics`.`id` = 8[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-19@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-19@mail.com', '$2a$04$UN1Aw5TLp/gNpboKevTnD.Lf1t1PU92Ea3S.qudeALbRfcyampseK', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-19%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-19@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-19@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 28[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.6ms)
Started GET "/homeland/r/4/edit" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 28 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 4 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e94e0030@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
RepliesTest: test_PUT_/homeland/r/:id
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-20@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-20@mail.com', '$2a$04$/ocY8h4ShIQir5iiRab0b.shM2IckeCxLICOnHD/s7TYc3IQ4zFgm', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-21@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-21@mail.com', '$2a$04$KDOdn7a/nXRHocSh5jj5KeJijl5PnPKbg87AfRXnYfZVeRxXF14.2', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name30' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name30', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (31, 30, 'title10', 'body', '<p>body</p>\n', 1544708794, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 31[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (29, 9, 'body', '<p>body</p>\n', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 9[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 29, `replied_at` = '2018-12-13 13:46:34', `replies_count` = 1 WHERE `homeland_topics`.`id` = 9[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/homeland/r/5" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"5"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
RepliesTest: test_PUT_/homeland/r/:id_without_owner
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-22@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-22@mail.com', '$2a$04$od8Xv7U8Wnd6/aS5tQ/DmOY9E4aBkA4hK9oF8/m863UM70Erm9UOC', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-23@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-23@mail.com', '$2a$04$iycZ5XYtxdZNIrW.IJbe2eFRynbxBNfhrBPp5dmi7d3myhr3TYwN.', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name31' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name31', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (32, 32, 'title11', 'body', '<p>body</p>\n', 1544708794, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 32[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (31, 10, 'body', '<p>body</p>\n', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 10[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 31, `replied_at` = '2018-12-13 13:46:34', `replies_count` = 1 WHERE `homeland_topics`.`id` = 10[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-24@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-24@mail.com', '$2a$04$dECvhDXyuDqHIyj974.dtOsgwG4nbCv2LsDgqWpphWCQHCL54XUD.', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-24%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-24@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-24@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started PUT "/homeland/r/6" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 33 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 6 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e94e0030@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
RepliesTest: test_DELETE_/homeland/r/:id_with_owner
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-25@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-25@mail.com', '$2a$04$LSSMUhNsGqKn7OjTc9oRruO25lvtM2zF6253rMnNqFYDkk8zd7L6W', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-26@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-26@mail.com', '$2a$04$GoimD7gU6WNOjRq14QJQMeIDP4e4X9EkYfJaeLuHK2Dgad6BLvzOK', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name32' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name32', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (33, 35, 'title12', 'body', '<p>body</p>\n', 1544708794, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 33[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (34, 11, 'body', '<p>body</p>\n', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 11[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 34, `replied_at` = '2018-12-13 13:46:34', `replies_count` = 1 WHERE `homeland_topics`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-27@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-27@mail.com', '$2a$04$J24yjybiBenuP/KW7lr1OeIK4rv5khbXH54KVFzdogGyvg8Vf5K5y', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name33' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name33', 'description', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (34, 36, 'title13', 'body', '<p>body</p>\n', 1544708794, '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 34[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (34, 12, 'body', '<p>body</p>\n', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 12[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 34, `replied_at` = '2018-12-13 13:46:34', `replies_count` = 1 WHERE `homeland_topics`.`id` = 12[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-25%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-25@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-25@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:34', `last_sign_in_at` = '2018-12-13 13:46:34', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 34[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started DELETE "/homeland/r/8" for 127.0.0.1 at 2018-12-13 05:46:34 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 34 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (1.2ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_replies` SET `homeland_replies`.`deleted_at` = '2018-12-13 13:46:34', `homeland_replies`.`updated_at` = '2018-12-13 13:46:34' WHERE `homeland_replies`.`id` = 8[0m
Redirected to http://www.example.com/homeland/t/12
Completed 302 Found in 7ms (ActiveRecord: 2.3ms)
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 8 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit
------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-28@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-28@mail.com', '$2a$04$YGDeCeG8331uCMPYDDd1xuXfiVV5AZ/oLAcoyq.U6GHJIikaj8.6y', '2018-12-13 13:46:34', '2018-12-13 13:46:34')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-29@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-29@mail.com', '$2a$04$B.geN1CFmG9a24VKm07cyOUr3hIRlCpiLZg6dI32K0MJ2erKT1iNG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name34' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name34', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (35, 38, 'title14', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 35[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (37, 13, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 13[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 37, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 13[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/r/9/edit" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"9"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
RepliesTest: test_PUT_/homeland/r/:id_with_owner
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-30@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-30@mail.com', '$2a$04$X985lTbLiNvjWBo6r1cr1uw5o2WSI6HjYGlBzk5Jzi1V4UBxwiCtK', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-31@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-31@mail.com', '$2a$04$XMql6/q3NCL2/oMRt0O5xOkQX5zJVY40.lQpv7gJEYuxtA5a4JQFm', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name35' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name35', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (36, 40, 'title15', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 36[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (39, 14, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 14[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 39, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 14[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-32@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-32@mail.com', '$2a$04$I6vk5h7W2W5SDoSMgbzt1eUZ81EQ0i6mXT1bl9yULYvdjrfcyr2Uu', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name36' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name36', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (37, 41, 'title16', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 37[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (39, 15, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 15[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 39, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 15[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-30%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-30@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-30@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 39[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started PUT "/homeland/r/11" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>"New content", "topic"=>"12349882", "user_id"=>"887721"}, "id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 39 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.5ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 11 LIMIT 1[0m
Unpermitted parameters: topic, user_id
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_replies` SET `body` = 'New content', `body_html` = '<p>New content</p>\n' WHERE `homeland_replies`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 15 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 15[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/15#reply-11
Completed 302 Found in 19ms (ActiveRecord: 3.9ms)
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 11 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
RepliesTest: test_DELETE_/homeland/r/:id_without_owner
------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-33@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-33@mail.com', '$2a$04$wWDbfGrroJMf/eBBFScD/OLT.09Jzx7egyZhp4QTJv.VIuf29ihUG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-34@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-34@mail.com', '$2a$04$lmjwGOvcEELm0SQIdsw2k.OCR0YCtN0yjHWMJheQHtNv8zCsBEMwK', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name37' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name37', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (38, 43, 'title17', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (42, 16, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 16[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 42, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/homeland/r/12" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"12"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-35@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-35@mail.com', '$2a$04$JsAwqXJ1vE9szZnV83p9h.m4BIEdLBId5IEBuBijb9z9yqFvJtwyi', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-35%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-35@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-35@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 44[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started DELETE "/homeland/r/12" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 44 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 12 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e94e0030@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit_with_owner
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-36@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-36@mail.com', '$2a$04$cNhYxVJc4JxcP24xaP49Weqfni7iA9hmXcmanjKmc5ADmaj.gVtUq', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-37@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-37@mail.com', '$2a$04$z4NQhA0NhXjZQBxPKZq8guCR82SLtRBZoUWR7SC6Lglrfv7TOl79u', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name38' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name38', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (39, 46, 'title18', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 39[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (45, 17, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 17[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 45, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 17[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-36%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-36@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-36@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started GET "/homeland/r/13/edit" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 45 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 13 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/edit.html.erb within layouts/homeland/application
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 17 LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/edit.html.erb within layouts/homeland/application (5.0ms)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 1.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
TopicsTest: test_GET_/homeland/t/:id/edit
-----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-38@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-38@mail.com', '$2a$04$otjotwmBJ4qyCrjy8dsduOIjyDgTXouABgXIleGTrYMqUjHhltL0a', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-38%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-38@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-38@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 47[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name39' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name39', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (40, 47, 'title19', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 40[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/18/edit" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"18"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-39@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-39@mail.com', '$2a$04$6hD8K3eH.eEoD83Ojwr0fuqr5eId/KiI8xpvid1Up8YyTTsSTJEZq', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-39%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-39@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-39@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 48[0m
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/18/edit
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
Started GET "/homeland/t/18/edit" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 48 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 18 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e51f4ac8@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/t/new
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-40@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-40@mail.com', '$2a$04$d4MZtJTkMjfoo1Yw9Aa8pOx2xxrLbEHZIv/RaMp0S3t/5MZ/wQ1g2', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-40%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-40@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-40@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 49[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.9ms)
Started GET "/homeland/t/new" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
TopicsTest: test_GET_/homeland/t/new_with_sign_in
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-41@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-41@mail.com', '$2a$04$hU6IsobQT9mcrgJ/eNOY5eLNMDNi44iZRs/qwh51uxw7EU/ij0Dqe', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-41%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-41@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-41@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 50[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-41%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-41@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-41@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 50[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
Started GET "/homeland/t/new" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 50 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IS NULL LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/new.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes`[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_form.html.erb (6.2ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/new.html.erb within layouts/homeland/application (8.2ms)
Completed 200 OK in 19ms (Views: 13.4ms | ActiveRecord: 1.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
TopicsTest: test_GET_/homeland/t
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-42@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-42@mail.com', '$2a$04$ZlXxr8.urIGyZXqbveD6T.sJ6/T2YbxuaOp7PYrywfvIh1QBp7KPu', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-42%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-42@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-42@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 51[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-43@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-43@mail.com', '$2a$04$kWiKasb1hD9NgpGKZskwR.IxpeETiE403D5GMK1TCktiOCA2CRgq6', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name40' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name40', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (41, 52, 'title20', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 41[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-44@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-44@mail.com', '$2a$04$ris9cWnhShnn7qwCFHwKIOLOG6ysCjVPBLhq7y5iByRJ2vxJHJue2', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name41' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name41', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (42, 53, 'title21', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 42[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-45@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-45@mail.com', '$2a$04$kKnGaQySZhD8rPfygTCt6OAetqf.rAdd1uNUbMZyAHpioBZwEcYb.', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name42' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name42', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (43, 54, 'title22', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 43[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-46@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-46@mail.com', '$2a$04$cI5D3SLOcAsS7hIyMBA98.e1VfcFhVODVFj5FWSSw6tyJEbK3b/zq', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name43' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name43', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (44, 55, 'title23', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (55, 54, 53, 52)[0m
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 44 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 43 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 42 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 41 LIMIT 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [4 times] (9.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (20.7ms)
Completed 200 OK in 28ms (Views: 24.0ms | ActiveRecord: 2.2ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
TopicsTest: test_PUT_/homeland/t/:id_with_correct_user
------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-47@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-47@mail.com', '$2a$04$TiKiAxwA5XJ2Deu1HJavieqnw9nYENovPZIuYbuMaoj1pTCg19bJK', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-47%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-47@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-47@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 56[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name44' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name44', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (45, 56, 'title24', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name45' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name45', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-47%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-47@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-47@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 56[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
Started PATCH "/homeland/t/23" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"topic"=>{"user_id"=>"1213", "node_id"=>"46", "title"=>"The new title", "body"=>"The new body"}, "id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 56 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 23 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 23 LIMIT 1[0m  [["id", 23], ["LIMIT", 1]]
Unpermitted parameter: user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `homeland_topics` SET `node_id` = 46, `title` = 'The new title', `body` = 'The new body', `body_html` = '<p>The new body</p>\n' WHERE `homeland_topics`.`id` = 23[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 46[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE `homeland_nodes`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/23
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 23 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
TopicsTest: test_DELETE_/homeland/t/:id_with_correct_user
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-48@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-48@mail.com', '$2a$04$UhZXroAXFrSjWRsfILawl.Uxet9ZyxPFggNLIdfCA1cSndppTC4Bu', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-48%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-48@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-48@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 57[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-49@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-49@mail.com', '$2a$04$Y/CWintK/CAsOxnjEd.8LeR3.y8XlTZvD9GYei0vVTpAgOEgTk8ce', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name46' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name46', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (47, 58, 'title25', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 47[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-49%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-49@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-49@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 58[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started DELETE "/homeland/t/24" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"24"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 58 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 24 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `homeland_topics`.`deleted_at` = '2018-12-13 13:46:35', `homeland_topics`.`updated_at` = '2018-12-13 13:46:35' WHERE `homeland_topics`.`id` = 24[0m
Redirected to http://www.example.com/homeland/t
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 24 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
TopicsTest: test_DELETE_/homeland/t/:id
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-50@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-50@mail.com', '$2a$04$6StBYs/WWF8fkY57cwrmu.LauyhBx2droJO4IMJMHfKCYvsbJPIcG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-50%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-50@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-50@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 59[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-51@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-51@mail.com', '$2a$04$0I7sRh9e7pNULwK81Sujxu.AtmuBkBLF2bp6Foz3OC55YBsOmc7Te', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name47' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name47', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (48, 60, 'title26', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 48[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-52@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-52@mail.com', '$2a$04$oV/gsyn1tQDCCWyS.71YUeOObz9vAEBVmAR/Yp6hmo2S2UUEiznD6', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/homeland/t/25" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"25"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-52%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-52@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-52@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 61[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started DELETE "/homeland/t/25" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 61 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 25 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e51f4ac8@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
TopicsTest: test_GET_/homeland/t/features
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-53@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-53@mail.com', '$2a$04$Fe.x1Jlvpw3zJrm4rC31F.NFzLcMOgo1heTzxYPXGRKrcwuqLceeG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-53%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-53@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-53@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-54@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-54@mail.com', '$2a$04$fU3mN7l9sQmwINZj8dg1quIm694ZWdxF7.CegsU85kn0B7ZvIKChq', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name48' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name48', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `replies_count`, `created_at`, `updated_at`) VALUES (49, 63, 'title27', 'body', '<p>body</p>\n', 1544708795, 20, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 49[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-55@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-55@mail.com', '$2a$04$1tZs8ie4kOgM.XZFp6TFne0syM.vUxw5MBZrBxauMu56UdAW9fK/y', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name49' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name49', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `replies_count`, `created_at`, `updated_at`) VALUES (50, 64, 'title28', 'body', '<p>body</p>\n', 1544708795, 20, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 50[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-56@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-56@mail.com', '$2a$04$l8AJzen/0yoPU3rqtAyPCusE0fzy5d1SypdGY7G0/MTcbfp7PuONG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name50' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name50', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (51, 65, 'title29', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 51[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-57@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-57@mail.com', '$2a$04$gWV4I2sQhsKNPSYYxxvAy.a94aaM5e9Li.x.rRVpHTwy6qN4h78pq', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name51' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name51', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (52, 66, 'title30', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 52[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/features" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#features as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND (replies_count >= 20) ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (64, 63)[0m
  [1m[36mHomeland::Node Load (0.5ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IN (50, 49)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (2.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (8.9ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
TopicsTest: test_POST_/homeland/t/:id/reply
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-58@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-58@mail.com', '$2a$04$tHzKH1wVgvVJZXBGAnmelO3vj1WxSGlYS0UDTaAQPHOO2JOpnhjlm', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-58%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-58@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-58@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 67[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-59@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-59@mail.com', '$2a$04$aHpjus1URcXB0SjUVmsTWe2vSh3KzVf8FtzsdXeMExRkqEyAvB1jW', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name52' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name52', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (53, 68, 'title31', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 53[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 30, 'body', '<p>body</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 30[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:35', `replies_count` = 1 WHERE `homeland_topics`.`id` = 30[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/homeland/t/30/reply" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"user_id"=>"1231", "reply_to_id"=>"14", "body"=>"Foo bar"}, "id"=>"30"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-58%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-58@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-58@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 67[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started POST "/homeland/t/30/reply" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"30"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 67 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.7ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/30#reply
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 30[0m
Started POST "/homeland/t/30/reply" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"user_id"=>"1231", "reply_to_id"=>"14", "body"=>"Foo bar"}, "id"=>"30"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 67 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 30 LIMIT 1[0m
Unpermitted parameter: user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`, `reply_to_id`) VALUES (67, 30, 'Foo bar', '<p>Foo bar</p>\n', '2018-12-13 13:46:35', '2018-12-13 13:46:35', 14)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 30[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 67, `replies_count` = 2 WHERE `homeland_topics`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/30#reply
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
  [1m[36mHomeland::Reply Load (0.5ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 30 ORDER BY `homeland_replies`.`id` DESC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 30[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/c/:id
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-60@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-60@mail.com', '$2a$04$5NEtJfQcC3EyVh7oT8dfpuAsolWbBEqdT0fim8eDccFK6TSsTNrR.', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-60%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-60@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-60@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 69[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name53' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name53', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-61@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-61@mail.com', '$2a$04$330hRSV.XPOn.BlpL78ydOQ4E7UaaCeuEBc8M/P9tWvNa/zAW3jRO', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (54, 70, 'title32', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 54[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-62@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-62@mail.com', '$2a$04$PdZ5/rkp8/5t/BzpXgCkXeSioq57unv0y2m0w3hqUeQ5dVkJb81AW', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (54, 71, 'title33', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 54[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-63@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-63@mail.com', '$2a$04$S07kTtfeJFKqVlu6k6MfSeqUNv66FHea56mXMxft0uGGxAhDgauqG', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name54' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name54', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (55, 72, 'title34', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 55[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-64@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-64@mail.com', '$2a$04$g24pcyr87OyH.nUT4lwToOYd0hyaH2pzu2UMXmi7IYlYc4WjYx8H2', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name55' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name55', 'description', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (56, 73, 'title35', 'body', '<p>body</p>\n', 1544708795, '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 56[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/c/54" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Homeland::TopicsController#node as HTML
  Parameters: {"id"=>"54"}
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 54 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (1.5ms)
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 54 ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (71, 70)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (1.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (8.6ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 1.2ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
TopicsTest: test_POST_/homeland/t
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-65@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-65@mail.com', '$2a$04$HblYucLG/C/lhbPd1K63E.6QEfMDatCuR/HtPFQoN0T/9eoR4PMQi', '2018-12-13 13:46:35', '2018-12-13 13:46:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-65%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:35 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-65@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-65@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:35', `last_sign_in_at` = '2018-12-13 13:46:35', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 74[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-66@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-66@mail.com', '$2a$04$Urwx1uhKdNlL1N3g3qpvMO7JdOMPfdFxrWkNP564sHjh90zRhm5V.', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name56' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name56', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL[0m
Started POST "/homeland/t" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#create as HTML
  Parameters: {"topic"=>{"title"=>"title36", "body"=>"body", "node_id"=>"57"}}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 57[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-65%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-65@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-65@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `sign_in_count` = 2, `updated_at` = '2018-12-13 13:46:36' WHERE `users`.`id` = 74[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started POST "/homeland/t" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#create as HTML
  Parameters: {"topic"=>{"title"=>"title36", "body"=>"body", "node_id"=>"57"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 74 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (57, 74, 'title36', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 57 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 57[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/35
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/homeland/t/35" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"35"}
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 35 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 57 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 74 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 74 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (4.8ms)
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 35 LIMIT 10 OFFSET 0[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (1.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (12.1ms)
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 57[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_PUT_/homeland/t/:id
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-67@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-67@mail.com', '$2a$04$ZL1Ev/2ALO3m2klWkv8zpOEehzf3ALT3Xzl6USNSK8xShheQtmvUe', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-67%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-67@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-67@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `last_sign_in_at` = '2018-12-13 13:46:36', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 76[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name57' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name57', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (58, 76, 'title37', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 58[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/homeland/t/36" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"id"=>"36"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-68@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-68@mail.com', '$2a$04$bCjV6AhKqyvnXW/aBiqVluEeAeH1Om1QYz3rWsk/WqJhh2UXj12li', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-68%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-68@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-68@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `last_sign_in_at` = '2018-12-13 13:46:36', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 77[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started PATCH "/homeland/t/36" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"id"=>"36"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 77 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 36 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x005623e51f4ac8@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
TopicsTest: test_GET_/homeland/t/:id/edit_with_owner
----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-69@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-69@mail.com', '$2a$04$tsWD1uqBmtCbDC6mwxu.4eU5ikjlpdrsbBdFO3FsH25lZerDpr3Ne', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-69%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-69@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-69@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `last_sign_in_at` = '2018-12-13 13:46:36', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 78[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name58' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name58', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (59, 78, 'title38', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 59[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-69%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-69@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-69@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 78[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
Started GET "/homeland/t/37/edit" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"37"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 78 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 37 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.2ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 59 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/edit.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes`[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_form.html.erb (3.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/edit.html.erb within layouts/homeland/application (6.0ms)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 1.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
TopicsTest: test_GET_/homeland/t/recent
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-70@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-70@mail.com', '$2a$04$GRaqjpMAcWkEfkXkFX3xsOIPlub9oNuaNJSUlp.3p0vM3TIJD.b4y', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-70%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-70@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-70@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `last_sign_in_at` = '2018-12-13 13:46:36', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 79[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-71@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-71@mail.com', '$2a$04$udOP8u330c6zRgtT6dttY.rjWvws5MyMRqMU6Rw2./ELS3wW.rFoC', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name59' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name59', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (60, 80, 'title39', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 60[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-72@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-72@mail.com', '$2a$04$SvX8QbVCj363to9gEpERc.gN5QQpVY5AEBa2E5hky9S3rV/mWFANi', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name60' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name60', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (61, 81, 'title40', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 61[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/recent" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#recent as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.9ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL ORDER BY id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (81, 80)[0m
  [1m[36mHomeland::Node Load (0.2ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IN (61, 60)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (2.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (9.5ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 1.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/t/:id
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-73@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-73@mail.com', '$2a$04$EWFkq716MB6hRRAUDAm12.Y/zbi0OhoLWCOawW1jdyiKi26KavvB.', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-73%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-73@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-73@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:36', `last_sign_in_at` = '2018-12-13 13:46:36', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 82[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name61' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name61', 'description', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (62, 82, 'title41', 'body', '<p>body</p>\n', 1544708796, '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 40, 'body', '<p>body</p>\n', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:36', `replies_count` = 1 WHERE `homeland_topics`.`id` = 40[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 40, 'body', '<p>body</p>\n', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 2 WHERE `homeland_topics`.`id` = 40[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 40, 'body', '<p>body</p>\n', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 3 WHERE `homeland_topics`.`id` = 40[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 40, 'body', '<p>body</p>\n', '2018-12-13 13:46:36', '2018-12-13 13:46:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 4 WHERE `homeland_topics`.`id` = 40[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/40" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 40 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 62 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 82 LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (3.1ms)
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40 LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb [4 times] (2.9ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (2.2ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (15.6ms)
Completed 200 OK in 25ms (Views: 19.1ms | ActiveRecord: 1.6ms)
Started GET "/homeland/t/40" for 127.0.0.1 at 2018-12-13 05:46:36 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mHomeland::Topic Load (1.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 40 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 62 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 82 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 82 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (5.8ms)
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 40 LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb [4 times] (3.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (2.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (19.0ms)
Completed 200 OK in 29ms (Views: 21.6ms | ActiveRecord: 3.5ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::NodeTest: test_.badge_color
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
Homeland::NodeTest: test_.badge_html
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::ApplicationHelpersTest: test_node_tag
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::ApplicationHelpersTest: test_user_name_tag
----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
Homeland::ApplicationHelpersTest: test_user_avatar_tag
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
Homeland::ApplicationHelpersTest: test_timeago
----------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::ApplicationHelpersTest: test_render_errors
----------------------------------------------------
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/shared/_error_messages.html.erb (1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit
------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-1@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-1@mail.com', '$2a$04$wCHHMzNXmcpfCYCl5Oc/Luz6moAKSurJ6sSsj8ex7JftHOGpIOVdu', '2018-12-13 13:46:57', '2018-12-13 13:46:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-2@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-2@mail.com', '$2a$04$luG2.gVLZYhVWBnA3Jv6EOJkZpFsfY6JSA7zs26WzivfdOfRbPX0W', '2018-12-13 13:46:57', '2018-12-13 13:46:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name1', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (63, 84, 'title1', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 63[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (83, 41, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 41[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 83, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 41[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/r/20/edit" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"20"}
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
RepliesTest: test_PUT_/homeland/r/:id
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-3@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-3@mail.com', '$2a$04$PeQnQkpsIVJ9d687EJ7bAOEn3KhpfsMxnjxb.o5Ou5NUmZuwHSQYS', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-4@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-4@mail.com', '$2a$04$bdDq29PGjK1esCMqQIU0heb9IAKyqpgMMKGXumILoCJ6LpXXhAINK', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name2' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name2', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (64, 86, 'title2', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 64[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (85, 42, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 42[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 85, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 42[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/homeland/r/21" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"21"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
RepliesTest: test_PUT_/homeland/r/:id_with_owner
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-5@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-5@mail.com', '$2a$04$RqFTzKGMCsXMZrZlG7WGfuAWNoGXKTCwiZdCCfq6xPo4o/VmH8Neq', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-6@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-6@mail.com', '$2a$04$6sht2kgsSK7DPqbgRS1gDe3iXuLnIi23I3U20Yzycjmq0ZVBZhmQS', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name3' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name3', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (65, 88, 'title3', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 65[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (87, 43, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 43[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 87, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 43[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-7@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-7@mail.com', '$2a$04$EPZ7BUN.Azifjx6DeL.f3.1KZ4U16CVNj8s6SzgSRt/ZjgQEumoyG', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name4' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name4', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (66, 89, 'title4', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 66[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (87, 44, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 44[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 87, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 44[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-5%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-5@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-5@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 87[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
Started PUT "/homeland/r/23" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>"New content", "topic"=>"12349882", "user_id"=>"887721"}, "id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 87 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 23 LIMIT 1[0m
Unpermitted parameters: topic, user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_replies` SET `body` = 'New content', `body_html` = '<p>New content</p>\n' WHERE `homeland_replies`.`id` = 23[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 44 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 44[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/44#reply-23
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 23 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
RepliesTest: test_DELETE_/homeland/r/:id_with_owner
---------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-8@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-8@mail.com', '$2a$04$P.FMkwJ4FoisSm5iNS2HSeb2U0AwkqIHAeGRYLr4QGj5h6e83bK7C', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-9@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-9@mail.com', '$2a$04$O70UxulzWPHKfJ.ov5DQLOeYwipL46BWfh4pCCVWaCcLxjWTnWu2i', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name5' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name5', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (67, 91, 'title5', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 67[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (90, 45, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 45[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 90, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-10@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-10@mail.com', '$2a$04$cDHRSP1EL8OMt0BIPoI4HOEAVMHbV/P5o4amxFzYBtGRkx.3maahy', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name6' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name6', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (68, 92, 'title6', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 68[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (90, 46, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 46[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 90, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 46[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-8%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-8@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-8@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 90[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started DELETE "/homeland/r/25" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 90 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 25 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_replies` SET `homeland_replies`.`deleted_at` = '2018-12-13 13:46:58', `homeland_replies`.`updated_at` = '2018-12-13 13:46:58' WHERE `homeland_replies`.`id` = 25[0m
Redirected to http://www.example.com/homeland/t/46
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 25 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit_without_owner
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-11@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-11@mail.com', '$2a$04$51me/43zn3sEMRiWh0BU6eS/Fn7enZFPoq11jWyQqtnGS5zHw4nYO', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-12@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-12@mail.com', '$2a$04$qjmEvp8hfsYBDNMvdeujMOl48wBvdw7l1JogDPFQe73E1k8FfW/72', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name7', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (69, 94, 'title7', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 69[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (93, 47, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 47[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 93, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 47[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-13@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-13@mail.com', '$2a$04$JkBny3kj9lkG2qY7.knOxelNDz0ZmD0MOQLQjeeoI8QITa7xs2YU.', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-13%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-13@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-13@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 95[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/homeland/r/26/edit" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"26"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 95 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 26 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3a89eedf0@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
RepliesTest: test_DELETE_/homeland/r/:id_without_owner
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-14@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-14@mail.com', '$2a$04$yQz6e2rHR0KSU333fITZ0u8iQFZwIevJTGoMOfidkwWWh9yrL8l6e', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-15@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-15@mail.com', '$2a$04$mUiyrndnzMNV9fmSTv9nouPYaDbS17VgpJh9nAkromrg31sSuz2yG', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name8' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name8', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (70, 97, 'title8', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 70[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (96, 48, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 48[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 96, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 48[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/homeland/r/27" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"27"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-16@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-16@mail.com', '$2a$04$aMWlF/QXbFMd70S/r0AvKeAWiE1wyR9njZw/rTAweiAqXOqM50CN.', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-16%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-16@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-16@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 98[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
Started DELETE "/homeland/r/27" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#destroy as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 98 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.2ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 27 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3a89eedf0@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
RepliesTest: test_GET_/homeland/r/:id/edit_with_owner
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-17@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-17@mail.com', '$2a$04$Lv8weWZR4MT7la7xJNgfBuSGTDr7DKckPu6lv//xXrYjwiu9wtUCO', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-18@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-18@mail.com', '$2a$04$3naT6wV8/I20owJvBDLQX.qZWKisxkHwHZ1A/QD4wIVCoBaXr1N3e', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name9' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name9', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (71, 100, 'title9', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 71[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (99, 49, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 49[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 99, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 49[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-17%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-17@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-17@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 99[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/homeland/r/28/edit" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#edit as HTML
  Parameters: {"id"=>"28"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 99 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 28 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/edit.html.erb within layouts/homeland/application
  [1m[36mHomeland::Topic Load (0.9ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 49 LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/edit.html.erb within layouts/homeland/application (17.1ms)
Completed 200 OK in 170ms (Views: 165.5ms | ActiveRecord: 1.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
RepliesTest: test_PUT_/homeland/r/:id_without_owner
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-19@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-19@mail.com', '$2a$04$hL2U8QO8Xfv0XWn8jA/xn.XYs3x4QL5IPvefDuEGLtJE3EmgpVqe.', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-20@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-20@mail.com', '$2a$04$rbOGQE/0rb2N2JZ08Q4bguZ2ivTg.4gyC/Zma7L1dsdOoMndGy/JG', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name10' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name10', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (72, 102, 'title10', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 72[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (101, 50, 'body', '<p>body</p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 50[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 101, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 50[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-21@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-21@mail.com', '$2a$04$OL6yXffsNcMjUigsTaTHcOm6vwDGuWfCXwPAbnpuqc2YL4w8plEzS', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-21%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-21@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-21@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:58', `last_sign_in_at` = '2018-12-13 13:46:58', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 103[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
Started PUT "/homeland/r/29" for 127.0.0.1 at 2018-12-13 05:46:58 -0800
Processing by Homeland::RepliesController#update as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"29"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 103 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 29 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3a89eedf0@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/replies_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
Homeland::TopicTest: test_.markdown_on_save
-------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-22@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-22@mail.com', '$2a$04$zOfrjoOAv/yTMV584uL.DOY5Bds.J7Ovgt0/w45wfw8BFdwrOjokG', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name11' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name11', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (73, 104, 'title11', 'Hello *world*', '<p>Hello <em>world</em></p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 73[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::TopicTest: test_soft_delete
-------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-23@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-23@mail.com', '$2a$04$CZpcHF7I4igpN1tLQH7OauVj.LSQBZ7GX3oHAeREtJPxysb7nrAjq', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name12' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name12', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (74, 105, 'title12', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 74[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_topics` SET `homeland_topics`.`deleted_at` = '2018-12-13 13:46:58', `homeland_topics`.`updated_at` = '2018-12-13 13:46:58' WHERE `homeland_topics`.`id` = 52[0m
  [1m[36mHomeland::Topic Load (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 52 LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 52 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::TopicTest: test_.set_last_active_mark
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-24@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-24@mail.com', '$2a$04$OWrENCF/iBPOYZUOP984cO2G8v17o1VJ0ScJOcCPzgzGjD7ImZgRG', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name13' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name13', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (75, 106, 'title13', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 75[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-25@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-25@mail.com', '$2a$04$kVEZL8w1QrtnsFohG3mx8eegQQBXPNE4XPy8UQtKef5GVV9tNoh7m', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name14' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name14', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (76, 107, 'title14', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 76[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
Homeland::TopicTest: test_.activity_at
--------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-26@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-26@mail.com', '$2a$04$W.RKm2kERKyqEjkBPzN3DusbDzURfh65ZcQb1SggcEgZnVXhlAeay', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name15' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name15', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
Homeland::ApplicationHelpersTest: test_user_avatar_tag
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::ApplicationHelpersTest: test_node_tag
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::ApplicationHelpersTest: test_render_errors
----------------------------------------------------
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/shared/_error_messages.html.erb (2.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
Homeland::ApplicationHelpersTest: test_timeago
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::ApplicationHelpersTest: test_user_name_tag
----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
Homeland::ReplyTest: test_.markdown_on_save
-------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-27@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-27@mail.com', '$2a$04$0quBoqVPJ5tU1TW8iZ3wx.jQvrX4.JWkpHuHmSuFaWCCcL9I0Y7jS', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name16' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name16', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (78, 109, 'title16', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 78[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 55, 'Hello *world*', '<p>Hello <em>world</em></p>\n', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 55[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:58', `replies_count` = 1 WHERE `homeland_topics`.`id` = 55[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Homeland::ReplyTest: test_.per_page
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
Homeland::ReplyTest: test_.recent
---------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Homeland::ReplyTest: test_.update_topic_last_reply_at
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-28@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-28@mail.com', '$2a$04$WopvFep.YNgTgpD0mHGLp.TmSMIW1HfC8I7zwSmdoOTTd.dxtyFLS', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name17' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name17', 'description', '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (79, 110, 'title17', 'body', '<p>body</p>\n', 1544708818, '2018-12-13 13:46:58', '2018-12-13 13:46:58')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 79[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 56, 'body', '<p>body</p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 56[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `last_active_mark` = 1544708819, `replied_at` = '2018-12-13 13:46:59', `replies_count` = 1, `updated_at` = '2018-12-13 13:46:59' WHERE `homeland_topics`.`id` = 56[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 56[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 56[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::ReplyTest: test_soft_delete
-------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-29@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-29@mail.com', '$2a$04$XAe113s1CTMOZwxr/hyZW.i3vTuQ3XOxbE9Tr/HaFeXYLtPrna5aW', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name18' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name18', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (80, 111, 'title18', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 80[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 57, 'Hello *world*', '<p>Hello <em>world</em></p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 57[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:59', `replies_count` = 1 WHERE `homeland_topics`.`id` = 57[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[33mUPDATE `homeland_replies` SET `homeland_replies`.`deleted_at` = '2018-12-13 13:46:59', `homeland_replies`.`updated_at` = '2018-12-13 13:46:59' WHERE `homeland_replies`.`id` = 32[0m
  [1m[36mHomeland::Reply Load (0.0ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`id` = 32 LIMIT 1[0m
  [1m[36mHomeland::Reply Load (0.0ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`id` = 32 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
NodesTest: test_GET_/homeland/nodes_without_admin
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$G7XStC6kP11nZtf3pBaAMOAtBjTCBOudZlwiMMm/RGygSNdJhesti', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name19' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name19', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name20' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name20', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name21' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name21', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name22' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name22', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` ORDER BY sort desc[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 81 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 82 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 83 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 84 ORDER BY id desc LIMIT 3[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_node.html.erb [4 times] (16.6ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application (19.9ms)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_PUT_/homeland/nodes/:id_without_admin
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$b7vRiyFOQWFnlYMACOA4Te7k6k6M0lIV3hP2iw9ZuCPYzKh/9FLRS', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name23' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name23', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-30@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-30@mail.com', '$2a$04$KCVQspbYAHFxVib9xsuEiOqlsGc/KzZotZUCM4t3ReUl./yrZEe7W', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-30%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-30@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-30@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 114[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started PUT "/homeland/nodes/85" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#update as HTML
  Parameters: {"node"=>{"name"=>""}, "id"=>"85"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 114 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
NodesTest: test_GET_/homeland/nodes_with_admin
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$k5942oxmdzuyT4OcjNNIh.VBHiuyoMBqJcmgh6KoX6se2bI5qRZim', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name24' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name24', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 115[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name25' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name25', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name26' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name26', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name27' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name27', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 115 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.5ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` ORDER BY sort desc[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 86 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 87 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.9ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 88 ORDER BY id desc LIMIT 3[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 89 ORDER BY id desc LIMIT 3[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_node.html.erb [4 times] (27.4ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/index.html.erb within layouts/homeland/application (36.1ms)
Completed 200 OK in 46ms (Views: 42.0ms | ActiveRecord: 3.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
NodesTest: test_GET_/homeland/nodes/:id/edit_with_admin
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$b/0GdbDP5ImyRr323UgUN.an9SHn38cJgGbX0MGdx8NoXhfLejrFe', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name28' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name28', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 116[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
Started GET "/homeland/nodes/90/edit" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#edit as HTML
  Parameters: {"id"=>"90"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 116 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 90 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/edit.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_form.html.erb (6.5ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/edit.html.erb within layouts/homeland/application (9.3ms)
Completed 200 OK in 23ms (Views: 17.1ms | ActiveRecord: 0.7ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_PUT_/homeland/nodes/:id_with_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$ExltVjXHATAlH1LQnRGPK.bEPFiTtAp4bDMUNsR0BuD36/BPfLYHO', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name29' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name29', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 117[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
Started PUT "/homeland/nodes/91" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#update as HTML
  Parameters: {"node"=>{"name"=>"New name", "description"=>"New description", "color"=>"#newcolor", "sort"=>"1621"}, "id"=>"91"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 117 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 91 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'New name' AND (`homeland_nodes`.`id` != 91) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `name` = 'New name', `description` = 'New description', `color` = '#newcolor', `sort` = 1621 WHERE `homeland_nodes`.`id` = 91[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/c/91
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 91 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
NodesTest: test_DELETE_/homeland/nodes/:id_without_admin
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$o6T08BUTKDLvuHIwwFGE.OIIT9xDrI2CqQdzBeKirM2dJ7tfdj39C', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name30' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name30', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name31' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name31', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-31@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-31@mail.com', '$2a$04$S/cMqikz82QYl4Z/AjnrG.Zn8m1FvW6Mox/oFGI68F8C8d1Yq1X1a', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-31%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-31@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-31@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 119[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 1.3ms)
Started DELETE "/homeland/nodes/93" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#destroy as HTML
  Parameters: {"id"=>"93"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 119 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_GET_/homeland/nodes/new_with_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$RYqNmu8LDQOXb20IyK11.u9HN.iUBkqZLmEoHHcvudT9pDiMBkruC', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name32' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name32', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 120[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.6ms)
Started GET "/homeland/nodes/new" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 120 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/new.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/_form.html.erb (2.9ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/nodes/new.html.erb within layouts/homeland/application (4.8ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_GET_/homeland/nodes/new_without_admin
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$zvalR4iuH4gqkzXWdJDrW.tKr0ymJRivs9HHZkENy05cA/hnz46Xy', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name33' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name33', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-32@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-32@mail.com', '$2a$04$GDF2E5VxRNatK.nmPprI9uu/nUkD7zq3TS8GWsXZFTcVeYdmufmGa', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-32%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-32@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-32@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 122[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/homeland/nodes/new" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 122 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
NodesTest: test_POST_/homeland/nodes_with_admin
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$P9V/f.tp2t24/pMmlAxIEeoBWSEDo0kRQgorzCsjFNDjuPFgHbDby', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name34' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name34', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 123[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
Started POST "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#create as HTML
  Parameters: {"node"=>{"name"=>"New name by create", "description"=>"New description by create", "color"=>"#newcolor", "sort"=>"1620"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 123 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'New name by create' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `color`, `sort`, `created_at`, `updated_at`) VALUES ('New name by create', 'New description by create', '#newcolor', 1620, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/c/97
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` ORDER BY `homeland_nodes`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
NodesTest: test_DELETE_/homeland/nodes/:id_with_admin
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$ccID6EGx8exjhl9F3c/Mo.mK6oBtXLGBmA.UccvXkZ1jI4NzA50XK', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name35' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name35', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name36' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name36', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=huacnlee%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"huacnlee@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'huacnlee@gmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 124[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
Started DELETE "/homeland/nodes/99" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#destroy as HTML
  Parameters: {"id"=>"99"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 124 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 99 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 99[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/nodes
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_nodes`[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
NodesTest: test_GET_/homeland/nodes/:id/edit_without_admin
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$ApnXmQ8wH5vEg6bHHBEKyOp9s.kJf.Rvz5ki8mgFAysSQ6uEjl2re', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name37' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name37', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-33@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-33@mail.com', '$2a$04$saPHS4cgM/SAVUxfmQXW..CsennsUym5gU9N1cX9MvLHBVaAjKa8K', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-33%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-33@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-33@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 126[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started GET "/homeland/nodes/100/edit" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#edit as HTML
  Parameters: {"id"=>"100"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 126 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
NodesTest: test_POST_/homeland/nodes_without_admin
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'huacnlee@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('huacnlee@gmail.com', '$2a$04$Yaoql5CXZvp/1e2.7rfEjOU05fycQ/FoRJxJ5uDiSR5UJ3HHnzfS6', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name38' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name38', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-34@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-34@mail.com', '$2a$04$bBOQ/m90q4F/iL2vO23CrOb6P3sDnHp5vGV5Xgut8nwBWaa0Hkucm', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-34%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-34@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-34@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 128[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
Started POST "/homeland/nodes" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::NodesController#create as HTML
  Parameters: {"node"=>{"name"=>""}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 128 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as :authorize_admin! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Homeland::NodeTest: test_.badge_color
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
Homeland::NodeTest: test_.badge_html
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Homeland::MarkupTest: test_.render_with_:simple
-----------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
Homeland::MarkupTest: test_Extend_a_new_markup
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Homeland::MarkupTest: test_.render_with_:html
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
Homeland::MarkupTest: test_.render_with_:markdown
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
Homeland::MarkupTest: test_Base_markup
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_name
----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_admin?
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Homeland::Concerns::UserMethodsTest: test_.user_avatar_url
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------
HomelandTest: test_.config
--------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------
HomelandTest: test_VERSION
--------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
TopicsTest: test_GET_/homeland/t/:id/edit
-----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-38@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-38@mail.com', '$2a$04$bE78fJj.g.EtxhXSui89ieH6xumcQEfbku1P.3CyTYtEU.dTRer9q', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-38%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-38@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-38@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 129[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name39' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name39', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (102, 129, 'title19', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 102[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/58/edit" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"58"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-39@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-39@mail.com', '$2a$04$8a57Teij3swZFgZDHluveOGXB6QKadDZ09ICvn.2UN7kDrS7Ubsge', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-39%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-39@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-39@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 130[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/58/edit
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/homeland/t/58/edit" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"58"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 130 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 58 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3acca4f00@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
TopicsTest: test_POST_/homeland/t
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-40@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-40@mail.com', '$2a$04$w/ivy9hCh/4iJ696c.4MlO0srvNzoJkPAYtsN4EslQd.Dk6gt4tqa', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-40%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-40@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-40@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 131[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-41@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-41@mail.com', '$2a$04$JAxJ9H2qa/t42ztSwS3i.eK/t4rSaBNZDJhGSKgcyDluz3P8mpf96', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name40' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name40', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL[0m
Started POST "/homeland/t" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#create as HTML
  Parameters: {"topic"=>{"title"=>"title20", "body"=>"body", "node_id"=>"103"}}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 103[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-40%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-40@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-40@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 131[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started POST "/homeland/t" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#create as HTML
  Parameters: {"topic"=>{"title"=>"title20", "body"=>"body", "node_id"=>"103"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 131 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (103, 131, 'title20', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 103 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 103[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/59
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
Started GET "/homeland/t/59" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"59"}
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 59 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 103 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 131 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 131 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (4.5ms)
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 59 LIMIT 10 OFFSET 0[0m
  Rendered collection of templates [0 times] (0.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (3.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (14.4ms)
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 103[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_PUT_/homeland/t/:id
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-42@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-42@mail.com', '$2a$04$OrJ.szg51GGjD7wXQAFQnedx0ix0N7FcMhQA8zKQxvYndWfA.P4jy', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-42%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-42@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-42@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 133[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name41' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name41', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (104, 133, 'title21', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 104[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/homeland/t/60" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"id"=>"60"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-43@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-43@mail.com', '$2a$04$A5d/IBJva3aXh7wtECW7.eW.qupuO7IM3YevnSPjGuRpMU/KvkPFm', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-43%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-43@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-43@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 134[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started PATCH "/homeland/t/60" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"id"=>"60"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 134 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 60 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3acca4f00@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
TopicsTest: test_DELETE_/homeland/t/:id_with_correct_user
---------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-44@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-44@mail.com', '$2a$04$sByQ4oNEl88MXLHFRNa6.u3OC.dXOnskafF.nTNY/7s6257/LcJaa', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-44%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-44@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-44@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 135[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-45@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-45@mail.com', '$2a$04$Co/ZDnEHWyMcHuJ3EY1s2O0qivI1yl5veZ/7Yx/Uf5Dmy49bZMnfG', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name42' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name42', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (105, 136, 'title22', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 105[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-45%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-45@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-45@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 136[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
Started DELETE "/homeland/t/61" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"61"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 136 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 61 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `homeland_topics`.`deleted_at` = '2018-12-13 13:46:59', `homeland_topics`.`updated_at` = '2018-12-13 13:46:59' WHERE `homeland_topics`.`id` = 61[0m
Redirected to http://www.example.com/homeland/t
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 61 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/t/:id
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-46@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-46@mail.com', '$2a$04$Px0q49tRSJurr.kTIp0rDeKGb4AcNVhQPtj5L5y51J8Y355/JCuhS', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-46%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:46:59 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-46@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-46@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:46:59', `last_sign_in_at` = '2018-12-13 13:46:59', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 137[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name43' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name43', 'description', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (106, 137, 'title23', 'body', '<p>body</p>\n', 1544708819, '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 106[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 62, 'body', '<p>body</p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:46:59', `replies_count` = 1 WHERE `homeland_topics`.`id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 62, 'body', '<p>body</p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 2 WHERE `homeland_topics`.`id` = 62[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 62, 'body', '<p>body</p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 3 WHERE `homeland_topics`.`id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 62, 'body', '<p>body</p>\n', '2018-12-13 13:46:59', '2018-12-13 13:46:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_topics` SET `replies_count` = 4 WHERE `homeland_topics`.`id` = 62[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/62" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"62"}
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 62 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 106 LIMIT 1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 137 LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (5.9ms)
  [1m[36mHomeland::Reply Load (0.5ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62 LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb [4 times] (2.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (1.9ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (22.0ms)
Completed 200 OK in 32ms (Views: 25.3ms | ActiveRecord: 2.2ms)
Started GET "/homeland/t/62" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#show as HTML
  Parameters: {"id"=>"62"}
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 62 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 106 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 137 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 137 ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb (7.1ms)
  [1m[36mHomeland::Reply Load (0.4ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 62 LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/replies/_reply.html.erb [4 times] (2.5ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_reply_form.html.erb (1.8ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/show.html.erb within layouts/homeland/application (18.9ms)
Completed 200 OK in 29ms (Views: 23.3ms | ActiveRecord: 2.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
TopicsTest: test_GET_/homeland/t/features
-----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-47@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-47@mail.com', '$2a$04$FYOgZToMXbSeE.NNZL5/u.ukyks7VTxwBxEAgj/NdYXF8pPO7vEGK', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-47%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-47@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-47@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 138[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-48@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-48@mail.com', '$2a$04$AuvuK/8Jc0IqEv0Onbf7OuFDV4mhqB8AU6WZG9dFO1gykYAPFM.SW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name44' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name44', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `replies_count`, `created_at`, `updated_at`) VALUES (107, 139, 'title24', 'body', '<p>body</p>\n', 1544708820, 20, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 107[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-49@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-49@mail.com', '$2a$04$O.ftbwbrpMHyq7rXwORqtOcMGfLjaWirVMth0tKnW42Q4C9F04MZW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name45' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name45', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `replies_count`, `created_at`, `updated_at`) VALUES (108, 140, 'title25', 'body', '<p>body</p>\n', 1544708820, 20, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 108[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-50@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-50@mail.com', '$2a$04$0oq8D10wbAxtlDKk9zYbaeUEvnSsWqbJhCOh5eNW/C88d2clvJagC', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name46' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name46', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (109, 141, 'title26', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 109[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-51@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-51@mail.com', '$2a$04$xzL4fJ4kEgCBDNkwkyDOZ.NAF3FoJR3Yr0QnVOL3wsUJJ17PKQ1uy', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name47' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name47', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (110, 142, 'title27', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 110[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/features" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#features as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND (replies_count >= 20) ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (140, 139)[0m
  [1m[36mHomeland::Node Load (0.2ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IN (108, 107)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (2.1ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (8.8ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.9ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/t/new
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-52@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-52@mail.com', '$2a$04$vfr35OTcD4G84H65KWUG6.s7kkNBio58GKrZjPxAHviCw.gQqKAji', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-52%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-52@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-52@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 143[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
Started GET "/homeland/t/new" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#new as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
TopicsTest: test_PUT_/homeland/t/:id_with_correct_user
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-53@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-53@mail.com', '$2a$04$GeZN7Y3cnfzHw2xj4z4leOxTwSsUQENR.wQ45s7lCfWi2E.1hxaBm', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-53%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-53@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-53@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 144[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name48' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name48', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (111, 144, 'title28', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 111[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name49' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name49', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-53%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-53@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-53@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 144[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started PATCH "/homeland/t/67" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#update as HTML
  Parameters: {"topic"=>{"user_id"=>"1213", "node_id"=>"112", "title"=>"The new title", "body"=>"The new body"}, "id"=>"67"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 144 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 67 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 67 LIMIT 1[0m  [["id", 67], ["LIMIT", 1]]
Unpermitted parameter: user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_topics` SET `node_id` = 112, `title` = 'The new title', `body` = 'The new body', `body_html` = '<p>The new body</p>\n' WHERE `homeland_topics`.`id` = 67[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 112[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE `homeland_nodes`.`id` = 111[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/67
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`id` = 67 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
TopicsTest: test_GET_/homeland/t/recent
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-54@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-54@mail.com', '$2a$04$qo4ukXWc0XfIBhIB42tMi.PDqaqmbE7QWjVMtwGgIPYlL3hHrDtOW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-54%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-54@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-54@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 145[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-55@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-55@mail.com', '$2a$04$ljp4WozZcfrT86iqqimV5.cCX..01/2EMXqlw3WuC/1RsSkBnPrmW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name50' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name50', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (113, 146, 'title29', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 113[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-56@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-56@mail.com', '$2a$04$8v5niwMQbONF/ddiXlvWGu1ZfXV/kop1WtxILjYX/FVjkvn2oxIXS', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name51' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name51', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (114, 147, 'title30', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 114[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t/recent" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#recent as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL ORDER BY id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (147, 146)[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IN (114, 113)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (2.0ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (9.8ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 1.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
TopicsTest: test_GET_/homeland/t/:id/edit_with_owner
----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-57@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-57@mail.com', '$2a$04$jUbLZqAj1IGP90OMSO2yEO8ajsgaIH7pbv0CNvAZndtl5hMdu1suG', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-57%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-57@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-57@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 148[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name52' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name52', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (115, 148, 'title31', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 115[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-57%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-57@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-57@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 148[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/homeland/t/70/edit" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#edit as HTML
  Parameters: {"id"=>"70"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 148 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 70 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 115 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/edit.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (1.1ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes`[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_form.html.erb (6.5ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/edit.html.erb within layouts/homeland/application (8.9ms)
Completed 200 OK in 19ms (Views: 12.9ms | ActiveRecord: 2.0ms)
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
TopicsTest: test_DELETE_/homeland/t/:id
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-58@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-58@mail.com', '$2a$04$dSI3xdGtYcdRN8Tjd7h.YencylTbcdUpyq2nAjK9OSxUklQ65X1ai', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-58%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-58@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-58@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 149[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-59@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-59@mail.com', '$2a$04$daTmYybpSqRDRVHJLX8q3ebkhYlsfJP9o7NdUvj7yOwudJPoQb6O2', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name53' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name53', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (116, 150, 'title32', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 116[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-60@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-60@mail.com', '$2a$04$3U52bCyEOjQi1XhAKGskNe.gRmUENZF3M.iIJLYP27jKJREE.JqS.', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/homeland/t/71" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"71"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-60%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-60@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-60@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 151[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
Started DELETE "/homeland/t/71" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#destroy as HTML
  Parameters: {"id"=>"71"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 151 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 71 LIMIT 1[0m
Redirected to http://www.example.com/homeland/
Filter chain halted as #<Proc:0x0055e3acca4f00@/home/wcl/Desktop/ruby_rails/homeland/app/controllers/homeland/topics_controller.rb:4> rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
TopicsTest: test_GET_/homeland/t
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-61@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-61@mail.com', '$2a$04$tLuWil66SdjFkBGLg3JVdOIs.9.0ouRZPBzmLyFudWpfYAogZpM3m', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-61%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-61@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-61@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 152[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-62@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-62@mail.com', '$2a$04$2LA.SZAeEp4uU5fqhcLMp.qS9H6fNhbjM4jeXHL3rsgK78.Xu.a8e', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name54' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name54', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (117, 153, 'title33', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 117[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-63@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-63@mail.com', '$2a$04$To0H6YlDgS2l0mSco3Bj0OAHaacGVmljLnPl8ZsReEuIvSSctsObW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name55' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name55', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (118, 154, 'title34', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 118[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-64@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-64@mail.com', '$2a$04$qgwxnIAw37tVg2GBBVHaIucxvK7DNBoNlELVYSBtXwdkDuVeEqOB.', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name56' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name56', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (119, 155, 'title35', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 119[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-65@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-65@mail.com', '$2a$04$K1BS2S31h.xhPuj3OpFLSuDAqJ0b9whS21Exg1lcL/ur5VMWhXbym', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name57' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name57', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (120, 156, 'title36', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 120[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/t" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#index as HTML
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (0.4ms)
  [1m[36mHomeland::Topic Load (0.5ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (156, 155, 154, 153)[0m
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 120 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 119 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 118 LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.2ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 117 LIMIT 1[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [4 times] (9.2ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (16.8ms)
Completed 200 OK in 23ms (Views: 19.3ms | ActiveRecord: 2.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
TopicsTest: test_GET_/homeland/t/new_with_sign_in
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-66@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-66@mail.com', '$2a$04$yIb5f8Djr.fZ3xKxmvRLZ.2bvUPz7GNHAmUmiUCVdox/OvXtfM486', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-66%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-66@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-66@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 157[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-66%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-66@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-66@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 157[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started GET "/homeland/t/new" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 157 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` IS NULL LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/new.html.erb within layouts/homeland/application
  [1m[36mHomeland::Node Load (0.4ms)[0m  [1m[34mSELECT `homeland_nodes`.* FROM `homeland_nodes`[0m
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_form.html.erb (3.4ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/new.html.erb within layouts/homeland/application (4.9ms)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 1.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
TopicsTest: test_GET_/homeland/c/:id
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-67@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-67@mail.com', '$2a$04$dRGalAc/xaJzuc2NqtsIxurjsmueGJLgHRSdE6Ka5JCc/3D5WEPSu', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-67%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-67@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-67@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 158[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name58' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name58', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-68@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-68@mail.com', '$2a$04$1aZezamY8PqIr63vdanKuekkBMOK.UI5YUiHXbZgMiqYDBv4.3o7O', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (121, 159, 'title37', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 121[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-69@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-69@mail.com', '$2a$04$1Q02WNQn1ZWIVzQZ8U2dz.n8lA0WSbR61hRiCVnvhtSy1kqPCv5Hm', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (121, 160, 'title38', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 121[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-70@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-70@mail.com', '$2a$04$56PjAJy8DkB3ZAgAEwshYuyDt63ImbXWy2MEzXUEdSG7Dg4MpzjVW', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name59' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name59', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (122, 161, 'title39', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 122[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-71@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-71@mail.com', '$2a$04$V13lfEEphYXgSv1ocIVSW.1AbwFzBB22wrp8V4NP/nLhNEo5Q0pS6', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name60' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name60', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (123, 162, 'title40', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 123[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/homeland/c/121" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#node as HTML
  Parameters: {"id"=>"121"}
  [1m[36mHomeland::Node Load (0.3ms)[0m  [1m[34mSELECT  `homeland_nodes`.* FROM `homeland_nodes` WHERE `homeland_nodes`.`id` = 121 LIMIT 1[0m
  Rendering /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_node_info.html.erb (1.4ms)
  [1m[36mHomeland::Topic Load (0.4ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`node_id` = 121 ORDER BY last_active_mark desc, id desc LIMIT 10 OFFSET 0[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (160, 159)[0m
  Rendered collection of /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/_topic.html.erb [2 times] (2.4ms)
  Rendered /home/wcl/Desktop/ruby_rails/homeland/app/views/homeland/topics/index.html.erb within layouts/homeland/application (8.7ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 1.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
TopicsTest: test_POST_/homeland/t/:id/reply
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-72@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-72@mail.com', '$2a$04$rCZlv6Q0gZodqet575TcIOPjh8bB49UJPmq/WaEQoL9TKWBF8mByG', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=user-72%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-72@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-72@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `current_sign_in_at` = '2018-12-13 13:47:00', `last_sign_in_at` = '2018-12-13 13:47:00', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1 WHERE `users`.`id` = 163[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'user-73@mail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`) VALUES ('user-73@mail.com', '$2a$04$NclQ3RHhm7i/FMogYeR6DekfbVegHX2PP1a6LeR8YpY3JTQGOc9Uq', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHomeland::Node Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `homeland_nodes` WHERE `homeland_nodes`.`name` = BINARY 'name61' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_nodes` (`name`, `description`, `created_at`, `updated_at`) VALUES ('name61', 'description', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `homeland_topics` (`node_id`, `user_id`, `title`, `body`, `body_html`, `last_active_mark`, `created_at`, `updated_at`) VALUES (124, 164, 'title41', 'body', '<p>body</p>\n', 1544708820, '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `homeland_nodes` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE `homeland_nodes`.`id` = 124[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`) VALUES (1, 80, 'body', '<p>body</p>\n', '2018-12-13 13:47:00', '2018-12-13 13:47:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 80[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 1, `replied_at` = '2018-12-13 13:47:00', `replies_count` = 1 WHERE `homeland_topics`.`id` = 80[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/homeland/t/80/reply" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"user_id"=>"1231", "reply_to_id"=>"37", "body"=>"Foo bar"}, "id"=>"80"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started POST "/users/sign_in?user%5Bemail%5D=user-72%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"user-72@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'user-72@mail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `sign_in_count` = 2 WHERE `users`.`id` = 163[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started POST "/homeland/t/80/reply" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"body"=>""}, "id"=>"80"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 163 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.2ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 80 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/80#reply
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 80[0m
Started POST "/homeland/t/80/reply" for 127.0.0.1 at 2018-12-13 05:47:00 -0800
Processing by Homeland::TopicsController#reply as HTML
  Parameters: {"reply"=>{"user_id"=>"1231", "reply_to_id"=>"37", "body"=>"Foo bar"}, "id"=>"80"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 163 ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mHomeland::Topic Load (0.3ms)[0m  [1m[34mSELECT  `homeland_topics`.* FROM `homeland_topics` WHERE `homeland_topics`.`deleted_at` IS NULL AND `homeland_topics`.`id` = 80 LIMIT 1[0m
Unpermitted parameter: user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `homeland_replies` (`user_id`, `topic_id`, `body`, `body_html`, `created_at`, `updated_at`, `reply_to_id`) VALUES (163, 80, 'Foo bar', '<p>Foo bar</p>\n', '2018-12-13 13:47:00', '2018-12-13 13:47:00', 37)[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 80[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `homeland_topics` SET `last_reply_user_id` = 163, `replies_count` = 2 WHERE `homeland_topics`.`id` = 80[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/homeland/t/80#reply
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36mHomeland::Reply Load (0.3ms)[0m  [1m[34mSELECT  `homeland_replies`.* FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 80 ORDER BY `homeland_replies`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `homeland_replies` WHERE `homeland_replies`.`deleted_at` IS NULL AND `homeland_replies`.`topic_id` = 80[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
